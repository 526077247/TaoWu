"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.onPanelMenu = exports.onNodeMenu = void 0;
const code_generate_1 = require("./code-generate");
function onNodeMenu(nodeInfo) {
    const menu = [];
    if (nodeInfo.type === "cc.Node") {
        menu.push({
            label: "复制相对路径",
            async click() {
                var node = await Editor.Message.request('scene', 'query-node', nodeInfo.uuid);
                const path = await code_generate_1.CodeGenerate.getPath(node);
                console.log(path);
                Editor.Clipboard.write('text', path);
            }
        });
        menu.push({
            label: "根据选择节点生成UI代码",
            async click() {
                var list = Editor.Selection.getSelected("node");
                code_generate_1.CodeGenerate.generateUICode(list);
            }
        });
        menu.push({
            label: "绑定UI节点",
            async click() {
                code_generate_1.CodeGenerate.bindUINodeByPrefab();
            }
        });
        return menu;
    }
    ;
}
exports.onNodeMenu = onNodeMenu;
;
function onPanelMenu() {
    const menu = [];
    menu.push({
        label: "根据选择节点生成UI代码",
        async click() {
            var list = Editor.Selection.getSelected("node");
            code_generate_1.CodeGenerate.generateUICode(list);
        }
    });
    menu.push({
        label: "绑定UI节点",
        async click() {
            code_generate_1.CodeGenerate.bindUINodeByPrefab();
        }
    });
    return menu;
}
exports.onPanelMenu = onPanelMenu;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGllcmFyY2h5LWVkaXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NvdXJjZS9oaWVyYXJjaHktZWRpdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG1EQUErQztBQUUvQyxTQUFnQixVQUFVLENBQUMsUUFBWTtJQUNwQyxNQUFNLElBQUksR0FBRyxFQUFFLENBQUM7SUFDaEIsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtRQUM1QixJQUFJLENBQUMsSUFBSSxDQUNUO1lBQ0ksS0FBSyxFQUFFLFFBQVE7WUFDZixLQUFLLENBQUMsS0FBSztnQkFDUCxJQUFJLElBQUksR0FBRyxNQUFNLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM5RSxNQUFNLElBQUksR0FBRyxNQUFNLDRCQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM5QyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFBO2dCQUNqQixNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDekMsQ0FBQztTQUNKLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxJQUFJLENBQ1Q7WUFDSSxLQUFLLEVBQUUsY0FBYztZQUNyQixLQUFLLENBQUMsS0FBSztnQkFDUCxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDaEQsNEJBQVksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEMsQ0FBQztTQUNKLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxJQUFJLENBQ1Q7WUFDSSxLQUFLLEVBQUUsUUFBUTtZQUNmLEtBQUssQ0FBQyxLQUFLO2dCQUNQLDRCQUFZLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUN0QyxDQUFDO1NBQ0osQ0FBQyxDQUFDO1FBQ0gsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUFBLENBQUM7QUFFTixDQUFDO0FBL0JELGdDQStCQztBQUFBLENBQUM7QUFFRixTQUFnQixXQUFXO0lBQ3ZCLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNoQixJQUFJLENBQUMsSUFBSSxDQUNUO1FBQ0ksS0FBSyxFQUFFLGNBQWM7UUFDckIsS0FBSyxDQUFDLEtBQUs7WUFDUCxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoRCw0QkFBWSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxDQUFDO0tBQ0osQ0FBQyxDQUFDO0lBQ0gsSUFBSSxDQUFDLElBQUksQ0FDVDtRQUNJLEtBQUssRUFBRSxRQUFRO1FBQ2YsS0FBSyxDQUFDLEtBQUs7WUFDUCw0QkFBWSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDdEMsQ0FBQztLQUNKLENBQUMsQ0FBQztJQUNILE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFsQkQsa0NBa0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29kZUdlbmVyYXRlIH0gZnJvbSBcIi4vY29kZS1nZW5lcmF0ZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9uTm9kZU1lbnUobm9kZUluZm86YW55KSB7XHJcbiAgIGNvbnN0IG1lbnUgPSBbXTtcclxuICAgaWYgKG5vZGVJbmZvLnR5cGUgPT09IFwiY2MuTm9kZVwiKSB7XHJcbiAgICAgICAgbWVudS5wdXNoKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwi5aSN5Yi255u45a+56Lev5b6EXCIsXHJcbiAgICAgICAgICAgIGFzeW5jIGNsaWNrKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBhd2FpdCBFZGl0b3IuTWVzc2FnZS5yZXF1ZXN0KCdzY2VuZScsICdxdWVyeS1ub2RlJywgbm9kZUluZm8udXVpZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gYXdhaXQgQ29kZUdlbmVyYXRlLmdldFBhdGgobm9kZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXRoKVxyXG4gICAgICAgICAgICAgICAgRWRpdG9yLkNsaXBib2FyZC53cml0ZSgndGV4dCcsIHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudS5wdXNoKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwi5qC55o2u6YCJ5oup6IqC54K555Sf5oiQVUnku6PnoIFcIixcclxuICAgICAgICAgICAgYXN5bmMgY2xpY2soKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IEVkaXRvci5TZWxlY3Rpb24uZ2V0U2VsZWN0ZWQoXCJub2RlXCIpO1xyXG4gICAgICAgICAgICAgICAgQ29kZUdlbmVyYXRlLmdlbmVyYXRlVUlDb2RlKGxpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVudS5wdXNoKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGFiZWw6IFwi57uR5a6aVUnoioLngrlcIixcclxuICAgICAgICAgICAgYXN5bmMgY2xpY2soKSB7XHJcbiAgICAgICAgICAgICAgICBDb2RlR2VuZXJhdGUuYmluZFVJTm9kZUJ5UHJlZmFiKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWVudTtcclxuICAgIH07XHJcbiAgICBcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvblBhbmVsTWVudSgpe1xyXG4gICAgY29uc3QgbWVudSA9IFtdO1xyXG4gICAgbWVudS5wdXNoKFxyXG4gICAge1xyXG4gICAgICAgIGxhYmVsOiBcIuagueaNrumAieaLqeiKgueCueeUn+aIkFVJ5Luj56CBXCIsXHJcbiAgICAgICAgYXN5bmMgY2xpY2soKSB7XHJcbiAgICAgICAgICAgIHZhciBsaXN0ID0gRWRpdG9yLlNlbGVjdGlvbi5nZXRTZWxlY3RlZChcIm5vZGVcIik7XHJcbiAgICAgICAgICAgIENvZGVHZW5lcmF0ZS5nZW5lcmF0ZVVJQ29kZShsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIG1lbnUucHVzaChcclxuICAgIHtcclxuICAgICAgICBsYWJlbDogXCLnu5HlrppVSeiKgueCuVwiLFxyXG4gICAgICAgIGFzeW5jIGNsaWNrKCkge1xyXG4gICAgICAgICAgICBDb2RlR2VuZXJhdGUuYmluZFVJTm9kZUJ5UHJlZmFiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbWVudTtcclxufSJdfQ==